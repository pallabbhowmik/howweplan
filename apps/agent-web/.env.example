# =============================================================================
# AGENT WEB APP - Environment Configuration
# =============================================================================
# This is a FRONTEND application. Only NEXT_PUBLIC_* variables are permitted.
# NO SECRETS, NO DATABASE CREDENTIALS, NO SERVICE ROLE KEYS.
# =============================================================================

# -----------------------------------------------------------------------------
# APP METADATA
# -----------------------------------------------------------------------------
NEXT_PUBLIC_APP_NAME=TripComposer Agent Portal
NEXT_PUBLIC_APP_VERSION=1.0.0
NEXT_PUBLIC_APP_ENV=development

# Show test site banner (true | false)
# Set to 'true' to display a prominent banner indicating test/demo environment
NEXT_PUBLIC_SHOW_TEST_BANNER=true

# -----------------------------------------------------------------------------
# API CONNECTIVITY - GATEWAY ONLY
# -----------------------------------------------------------------------------
# ALL backend requests go through the API gateway.
# Gateway handles routing to appropriate microservices.
# 
# Available routes:
#   /api/identity/*      → Identity Service
#   /api/matching/*      → Matching Service (agent matches)
#   /api/itineraries/*   → Itineraries Service
#   /api/bookings/*      → Booking-Payments Service
#   /api/messaging/*     → Messaging Service
#   /api/reviews/*       → Reviews Service

# Production API Gateway
NEXT_PUBLIC_API_BASE_URL=https://howweplan-gateway.onrender.com

# WebSocket URL for real-time updates (through gateway)
NEXT_PUBLIC_WS_URL=wss://howweplan-gateway.onrender.com/ws

# Local Development
# NEXT_PUBLIC_API_BASE_URL=http://localhost:3001
# NEXT_PUBLIC_WS_URL=ws://localhost:3001/ws

# -----------------------------------------------------------------------------
# AUTHENTICATION (Supabase Public)
# -----------------------------------------------------------------------------
# Supabase project URL (public, safe for frontend)
NEXT_PUBLIC_SUPABASE_URL=http://localhost:54321

# Supabase anon/public key (NOT the service role key)
NEXT_PUBLIC_SUPABASE_ANON_KEY=your-supabase-anon-key

# -----------------------------------------------------------------------------
# DATA ACCESS POLICY
# -----------------------------------------------------------------------------
# Frontend should ONLY use Supabase for:
#   1. Authentication (Supabase Auth API)
#   2. Session management
#   3. Public read-only reference data
#
# All other operations MUST go through backend API:
#   - Agent profile → Identity Service (via NEXT_PUBLIC_API_BASE_URL)
#   - Matches → Matching Service
#   - Messages → Messaging Service
#   - Bookings → Booking-Payments Service
#   - Itineraries → Itineraries Service
#
# See docs/FRONTEND-DATA-ACCESS-POLICY.md
# -----------------------------------------------------------------------------

# -----------------------------------------------------------------------------
# FILE UPLOADS
# -----------------------------------------------------------------------------
# Public URL for file storage (itinerary PDFs, agent photos)
NEXT_PUBLIC_STORAGE_URL=http://localhost:54321/storage/v1

# Maximum file size for itinerary uploads (in bytes) - 10MB default
NEXT_PUBLIC_MAX_UPLOAD_SIZE_BYTES=10485760

# Allowed file types for itinerary uploads
NEXT_PUBLIC_ALLOWED_UPLOAD_TYPES=application/pdf,text/plain,text/markdown

# -----------------------------------------------------------------------------
# FEATURE TOGGLES
# -----------------------------------------------------------------------------
# Enable real-time request notifications
NEXT_PUBLIC_FEATURE_REALTIME_NOTIFICATIONS=true

# Enable in-app chat with users (mandatory before payment per constitution)
NEXT_PUBLIC_FEATURE_PLATFORM_CHAT=true

# Enable itinerary link submission (alternative to PDF)
NEXT_PUBLIC_FEATURE_LINK_ITINERARIES=true

# Enable free-text itinerary submission
NEXT_PUBLIC_FEATURE_TEXT_ITINERARIES=true

# -----------------------------------------------------------------------------
# OPERATIONAL LIMITS
# -----------------------------------------------------------------------------
# Maximum concurrent active requests an agent can handle
NEXT_PUBLIC_MAX_ACTIVE_REQUESTS=10

# Request response timeout display (in hours)
NEXT_PUBLIC_REQUEST_RESPONSE_TIMEOUT_HOURS=24

# Maximum itinerary revisions per booking
NEXT_PUBLIC_MAX_ITINERARY_REVISIONS=3

# -----------------------------------------------------------------------------
# UI CONFIGURATION
# -----------------------------------------------------------------------------
# Number of requests to show per page in inbox
NEXT_PUBLIC_REQUESTS_PER_PAGE=20

# Auto-refresh interval for request inbox (in milliseconds)
NEXT_PUBLIC_INBOX_REFRESH_INTERVAL_MS=30000

# -----------------------------------------------------------------------------
# OBSERVABILITY (Frontend)
# -----------------------------------------------------------------------------
# Enable frontend error tracking
NEXT_PUBLIC_ENABLE_ERROR_TRACKING=true

# Public Sentry DSN (frontend errors only, no secrets)
NEXT_PUBLIC_SENTRY_DSN=

# Enable frontend analytics
NEXT_PUBLIC_ENABLE_ANALYTICS=false

# Public analytics key (e.g., PostHog, Mixpanel public key)
NEXT_PUBLIC_ANALYTICS_KEY=
