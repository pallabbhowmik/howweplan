# ============================================================================
# TRIP COMPOSER - USER WEB APP
# Environment Configuration
# ============================================================================
# SECURITY NOTICE: This file contains ONLY public variables safe for browsers.
# No secrets, database credentials, or service role keys are permitted here.
# ============================================================================

# ----------------------------------------------------------------------------
# APP METADATA
# ----------------------------------------------------------------------------
# Application name displayed in UI and metadata
NEXT_PUBLIC_APP_NAME=HowWePlan

# Application version for cache busting and debugging
NEXT_PUBLIC_APP_VERSION=1.0.0

# Current environment (development | staging | production)
NEXT_PUBLIC_APP_ENV=development

# Show test site banner (true | false)
# Set to 'true' to display a prominent banner indicating test/demo environment
NEXT_PUBLIC_SHOW_TEST_BANNER=true

# ----------------------------------------------------------------------------
# API CONNECTIVITY - GATEWAY ONLY
# ----------------------------------------------------------------------------
# ALL backend requests MUST go through the API gateway.
# Frontend should NEVER call microservices directly.
# 
# Gateway routes requests to appropriate services:
#   /api/identity/*      → Identity Service
#   /api/requests/*      → Requests Service
#   /api/itineraries/*   → Itineraries Service
#   /api/matching/*      → Matching Service
#   /api/bookings/*      → Booking-Payments Service
#   /api/messaging/*     → Messaging Service
#   /api/notifications/* → Notifications Service
#   /api/disputes/*      → Disputes Service
#   /api/reviews/*       → Reviews Service
#   /api/audit/*         → Audit Service

# Production API Gateway
NEXT_PUBLIC_API_BASE_URL=https://howweplan-gateway.onrender.com

# WebSocket URL for real-time updates (through gateway)
NEXT_PUBLIC_WS_URL=wss://howweplan-gateway.onrender.com/ws

# Request timeout in milliseconds
NEXT_PUBLIC_API_TIMEOUT_MS=30000

# Local Development (Docker)
# NEXT_PUBLIC_API_BASE_URL=http://localhost:3001
# NEXT_PUBLIC_WS_URL=ws://localhost:3001/ws

# ----------------------------------------------------------------------------
# AUTHENTICATION (Supabase)
# ----------------------------------------------------------------------------
# Supabase project URL (public, safe for browser)
NEXT_PUBLIC_SUPABASE_URL=http://localhost:54321

# Supabase anonymous/public key (safe for browser, restricted by RLS)
NEXT_PUBLIC_SUPABASE_ANON_KEY=your-supabase-anon-key

# ----------------------------------------------------------------------------
# DATA ACCESS POLICY
# ----------------------------------------------------------------------------
# Frontend should ONLY use Supabase for:
#   1. Authentication (Supabase Auth API)
#   2. Session management
#   3. Public read-only reference data (destinations, countries)
#
# All other operations MUST go through backend services:
#   - User profile → Identity Service (NEXT_PUBLIC_IDENTITY_SERVICE_URL)
#   - Travel requests → Requests Service (NEXT_PUBLIC_REQUESTS_SERVICE_URL)
#   - Bookings → Booking-Payments Service (NEXT_PUBLIC_BOOKING_PAYMENTS_SERVICE_URL)
#   - Messages → Messaging Service (NEXT_PUBLIC_MESSAGING_SERVICE_URL)
#   - Notifications → Notifications Service (NEXT_PUBLIC_NOTIFICATIONS_SERVICE_URL)
#
# See docs/FRONTEND-DATA-ACCESS-POLICY.md for complete policy.
# ----------------------------------------------------------------------------

# ----------------------------------------------------------------------------
# PAYMENTS (Stripe)
# ----------------------------------------------------------------------------
# Stripe publishable key (safe for browser, cannot perform charges)
NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY=pk_test_your-stripe-publishable-key

# ----------------------------------------------------------------------------
# FEATURE TOGGLES
# ----------------------------------------------------------------------------
# Enable/disable dispute creation feature
NEXT_PUBLIC_FEATURE_DISPUTES_ENABLED=true

# Enable/disable real-time chat feature
NEXT_PUBLIC_FEATURE_CHAT_ENABLED=true

# Enable/disable agent reviews feature
NEXT_PUBLIC_FEATURE_REVIEWS_ENABLED=true

# Enable/disable multi-currency display
NEXT_PUBLIC_FEATURE_MULTI_CURRENCY=false

# ----------------------------------------------------------------------------
# OPERATIONAL LIMITS (UI Constraints)
# ----------------------------------------------------------------------------
# Maximum file size for uploads in bytes (5MB default)
NEXT_PUBLIC_MAX_UPLOAD_SIZE_BYTES=5242880

# Maximum travelers per booking request
NEXT_PUBLIC_MAX_TRAVELERS_PER_REQUEST=20

# Maximum options to display in comparison view
NEXT_PUBLIC_MAX_OPTIONS_DISPLAY=10

# Chat message character limit
NEXT_PUBLIC_CHAT_MESSAGE_MAX_LENGTH=2000

# ----------------------------------------------------------------------------
# OBSERVABILITY
# ----------------------------------------------------------------------------
# Sentry DSN for error tracking (public, client-side only)
NEXT_PUBLIC_SENTRY_DSN=

# Enable/disable analytics tracking
NEXT_PUBLIC_ANALYTICS_ENABLED=false

# Analytics tracking ID (e.g., Google Analytics)
NEXT_PUBLIC_ANALYTICS_ID=

# ----------------------------------------------------------------------------
# UI CONFIGURATION
# ----------------------------------------------------------------------------
# Default currency code for display
NEXT_PUBLIC_DEFAULT_CURRENCY=INR

# Default locale for i18n
NEXT_PUBLIC_DEFAULT_LOCALE=en-US

# Support email displayed in UI
NEXT_PUBLIC_SUPPORT_EMAIL=support@howweplan.com

# Terms of service URL
NEXT_PUBLIC_TERMS_URL=/legal/terms

# Privacy policy URL
NEXT_PUBLIC_PRIVACY_URL=/legal/privacy
