# ============================================
# TRAVEL REQUEST SERVICE - ENVIRONMENT CONFIG
# ============================================
# Copy to .env and fill in values for your environment.
# NEVER commit .env files with real secrets.

# --------------------------------------------
# APP METADATA
# --------------------------------------------
NODE_ENV=development
SERVICE_NAME=requests-service
SERVICE_VERSION=1.0.0
PORT=3001

# --------------------------------------------
# DATABASE (Supabase)
# --------------------------------------------
DATABASE_URL=postgresql://postgres:postgres@localhost:54322/postgres
SUPABASE_URL=http://localhost:54321
SUPABASE_SERVICE_ROLE_KEY=your-service-role-key-here

# --------------------------------------------
# EVENT BUS
# --------------------------------------------
EVENT_BUS_URL=redis://localhost:6379
EVENT_BUS_CHANNEL_PREFIX=tripcomposer

# --------------------------------------------
# AUTHENTICATION
# --------------------------------------------
JWT_SECRET=dev-jwt-secret-min-32-characters-long
JWT_ISSUER=tripcomposer
JWT_AUDIENCE=tripcomposer-services

# --------------------------------------------
# OPERATIONAL LIMITS
# --------------------------------------------
# Maximum travel requests a user can create per day
DAILY_REQUEST_CAP=5
# Maximum open (non-terminal) requests per user
MAX_OPEN_REQUESTS=3
# Request expiry in hours (auto-expire if no agent match)
REQUEST_EXPIRY_HOURS=72

# --------------------------------------------
# RATE LIMITING
# --------------------------------------------
RATE_LIMIT_WINDOW_MS=60000
RATE_LIMIT_MAX_REQUESTS=100

# --------------------------------------------
# AUDIT / OBSERVABILITY
# --------------------------------------------
LOG_LEVEL=debug
LOG_FORMAT=json
AUDIT_ENABLED=true
METRICS_ENABLED=true
METRICS_PORT=9091
