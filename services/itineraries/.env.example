# ============================================================
# ITINERARIES SERVICE - Environment Configuration
# ============================================================
# This file contains all environment variables required by the
# Itineraries & Options service. Copy to .env and fill values.
# ============================================================

# ------------------------------------------------------------
# APP METADATA
# ------------------------------------------------------------
# Service identification and runtime configuration
NODE_ENV=development
SERVICE_NAME=itineraries-service
SERVICE_VERSION=1.0.0
PORT=3003
LOG_LEVEL=info

# ------------------------------------------------------------
# API CONNECTIVITY
# ------------------------------------------------------------
# Internal service communication endpoints
API_BASE_URL=http://localhost:3003
INTERNAL_API_KEY=dev-internal-key-change-in-production

# ------------------------------------------------------------
# AUTHENTICATION
# ------------------------------------------------------------
# JWT verification for incoming requests
JWT_SECRET=dev-jwt-secret-min-32-chars-change-me
JWT_ISSUER=tripcomposer-auth
JWT_AUDIENCE=tripcomposer-services

# ------------------------------------------------------------
# DATABASE
# ------------------------------------------------------------
# Supabase connection for itinerary storage
SUPABASE_URL=http://localhost:54321
SUPABASE_SERVICE_ROLE_KEY=your-supabase-service-role-key
DATABASE_URL=postgresql://postgres:postgres@localhost:54322/postgres

# ------------------------------------------------------------
# EVENT BUS
# ------------------------------------------------------------
# Message broker for inter-service communication
EVENT_BUS_URL=amqp://localhost:5672
EVENT_BUS_EXCHANGE=tripcomposer.events
EVENT_BUS_QUEUE_PREFIX=itineraries

# ------------------------------------------------------------
# FEATURE TOGGLES
# ------------------------------------------------------------
# Runtime feature flags (no business logic)
ENABLE_VERSION_HISTORY=true
ENABLE_AUDIT_LOGGING=true
ENABLE_METRICS=true

# ------------------------------------------------------------
# OPERATIONAL LIMITS
# ------------------------------------------------------------
# Rate limiting and resource constraints
MAX_ITINERARY_ITEMS=50
MAX_SUBMISSION_SIZE_MB=10
MAX_VERSIONS_PER_ITINERARY=100
OBFUSCATION_CACHE_TTL_SECONDS=300

# ------------------------------------------------------------
# AUDIT / OBSERVABILITY
# ------------------------------------------------------------
# Logging, tracing, and monitoring configuration
AUDIT_LOG_ENABLED=true
OTEL_EXPORTER_OTLP_ENDPOINT=http://localhost:4318
OTEL_SERVICE_NAME=itineraries-service
METRICS_PORT=9093
